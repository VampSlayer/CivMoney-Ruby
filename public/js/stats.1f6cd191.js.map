{"version":3,"sources":["webpack:///./src/components/pictoralbar.vue?a1ee","webpack:///./src/services/stats.js","webpack:///./src/views/Stats.vue?a9e6","webpack:///./src/components/pictoralbar.vue?296c","webpack:///src/components/pictoralbar.vue","webpack:///./src/components/pictoralbar.vue?3ad6","webpack:///./src/components/pictoralbar.vue","webpack:///src/views/Stats.vue","webpack:///./src/views/Stats.vue?2420","webpack:///./src/views/Stats.vue","webpack:///./src/views/Stats.vue?3d90"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_pictoralbar_vue_vue_type_style_index_0_id_0cb3a165_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_pictoralbar_vue_vue_type_style_index_0_id_0cb3a165_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","__webpack_exports__","years","_years","Object","_home_pussy_CivMoney_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","axios","get","abrupt","sent","stop","apply","this","arguments","getMonthStatsForYear","_getMonthStatsForYear","_callee2","year","_context2","concat","_x","getMonthAvgsForYear","_getMonthAvgsForYear","_callee3","_context3","_x2","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","align","to","title","_l","index","key","active-class","active","selectedYear","on","click","$event","_v","_s","staticStyle","height","alignLabels","data","selectedYearsStats","month","id","datemonth","spent","saved","staticRenderFns","pictoralbarvue_type_template_id_0cb3a165_scoped_true_render","pictoralbarvue_type_template_id_0cb3a165_scoped_true_staticRenderFns","pictoralbarvue_type_script_lang_js_","name","props","Boolean","String","_uid","dollarPath","poundPath","euroPath","watch","me.currency","draw","mounted","computed","_objectSpread","vuex_esm","iconPath","me","currency","methods","core","animated","dark","chart","charts","hiddenState","properties","opacity","value","series","push","dataFields","category","slices","template","cursorOverStyle","pointer","tooltipText","chartTitle","titles","create","text","maskSprite","path","labels","disabled","components_pictoralbarvue_type_script_lang_js_","component","componentNormalizer","pictoralbar","Statsvue_type_script_lang_js_","yearlyStats","monthlyStatsForYear","components","pictorialbar","created","getYears","getYearlyStats","selectableYears","length","Math","max","_selectedYear","asyncToGenerator","result","stats","forEach","x","moment_default","format","t0","console","log","Statsvue_type_script_lang_js_objectSpread","sortedYears","sort","a","b","_this","find","dateyear","_getYearlyStats","response","views_Statsvue_type_script_lang_js_","Stats_component","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Stats_vue_vue_type_style_index_0_id_59292040_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Stats_vue_vue_type_style_index_0_id_59292040_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/stats.1f6cd191.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pictoralbar.vue?vue&type=style&index=0&id=0cb3a165&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pictoralbar.vue?vue&type=style&index=0&id=0cb3a165&scoped=true&lang=css&\"","import axios from 'axios'\n\nexport default {\n    async years() {\n        return await axios.get('/api/transactions/yearsStats');\n    },\n    async getMonthStatsForYear(year) {\n        return await axios.get(`/api/transactions/yearMonthStats?year=${year}`);\n    },\n    async getMonthAvgsForYear(year) {\n        return await axios.get(`/api/transactions/yearMonthAvgs?year=${year}`);\n    }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"mt-2 h-100\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-4\"},[_c('b-nav',{attrs:{\"align\":\"left\"}},[_c('b-nav-item',{attrs:{\"to\":\"/\"}},[_c('i',{staticClass:\"fas fa-chart-bar\",attrs:{\"title\":\"Dashboard\"}})]),_c('b-nav-item',{attrs:{\"to\":\"/averages\"}},[_c('i',{staticClass:\"fas fa-thermometer-empty\",attrs:{\"title\":\"Averages\"}})])],1)],1),_c('div',{staticClass:\"col-8\"},[_c('b-nav',{attrs:{\"align\":\"right\"}},_vm._l((_vm.sortedYears),function(year,index){return _c('b-nav-item',{key:index,attrs:{\"active-class\":\"year-active\",\"active\":year === _vm.selectedYear},on:{\"click\":function($event){_vm.selectedYear = year;}}},[_vm._v(_vm._s(year))])}),1)],1)]),_c('div',{staticClass:\"h-100\"},[_c('div',{staticClass:\"row border-btm\",staticStyle:{\"height\":\"79%\"}},[_c('div',{staticClass:\"col-md-6 offset-md-3 h-100\"},[_c('div',{staticClass:\"text-center h-100\"},[_c('pictorialbar',{attrs:{\"alignLabels\":true,\"data\":_vm.selectedYearsStats}})],1)])]),_c('div',{staticClass:\"row h-20\"},_vm._l((_vm.monthlyStatsForYear),function(month){return _c('div',{key:month.id,staticClass:\"col\"},[_c('pictorialbar',{attrs:{\"title\":month.datemonth,\"alignLabels\":false,\"data\":{spent:month.spent, saved:month.saved}}})],1)}),0)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"inherit\"}},[_c('div',{staticClass:\"pictoral-chart\",attrs:{\"id\":_vm.id}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style scoped>\n.pictoral-chart {\n  height: 100%;\n}\n</style>\n\n<template>\n  <div style=\"height:inherit\">\n    <div class=\"pictoral-chart\" :id=\"id\"></div>\n  </div>\n</template>\n\n<script>\nimport * as am4core from \"@amcharts/amcharts4/core\";\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated.js\";\nimport am4themes_dark from \"@amcharts/amcharts4/themes/dark.js\";\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"pictoralbar\",\n  props: {\n    alignLabels: Boolean,\n    title: String,\n    data: Object\n  },\n  data() {\n    return {\n      id: `${this._uid}bar`,\n      dollarPath: \"M1362 1185q0 153-99.5 263.5t-258.5 136.5v175q0 14-9 23t-23 9h-135q-13 0-22.5-9.5t-9.5-22.5v-175q-66-9-127.5-31t-101.5-44.5-74-48-46.5-37.5-17.5-18q-17-21-2-41l103-135q7-10 23-12 15-2 24 9l2 2q113 99 243 125 37 8 74 8 81 0 142.5-43t61.5-122q0-28-15-53t-33.5-42-58.5-37.5-66-32-80-32.5q-39-16-61.5-25t-61.5-26.5-62.5-31-56.5-35.5-53.5-42.5-43.5-49-35.5-58-21-66.5-8.5-78q0-138 98-242t255-134v-180q0-13 9.5-22.5t22.5-9.5h135q14 0 23 9t9 23v176q57 6 110.5 23t87 33.5 63.5 37.5 39 29 15 14q17 18 5 38l-81 146q-8 15-23 16-14 3-27-7-3-3-14.5-12t-39-26.5-58.5-32-74.5-26-85.5-11.5q-95 0-155 43t-60 111q0 26 8.5 48t29.5 41.5 39.5 33 56 31 60.5 27 70 27.5q53 20 81 31.5t76 35 75.5 42.5 62 50 53 63.5 31.5 76.5 13 94z\",\n      poundPath: \"M308 352h-45.495c-6.627 0-12 5.373-12 12v50.848H128V288h84c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-84v-63.556c0-32.266 24.562-57.086 61.792-57.086 23.658 0 45.878 11.505 57.652 18.849 5.151 3.213 11.888 2.051 15.688-2.685l28.493-35.513c4.233-5.276 3.279-13.005-2.119-17.081C273.124 54.56 236.576 32 187.931 32 106.026 32 48 84.742 48 157.961V224H20c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h28v128H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h296c6.627 0 12-5.373 12-12V364c0-6.627-5.373-12-12-12z\",\n      euroPath: \"M1360 1307l35 159q3 12-3 22.5t-17 14.5l-5 1q-4 2-10.5 3.5t-16 4.5-21.5 5.5-25.5 5-30 5-33.5 4.5-36.5 3-38.5 1q-234 0-409-130.5t-238-351.5h-95q-13 0-22.5-9.5t-9.5-22.5v-113q0-13 9.5-22.5t22.5-9.5h66q-2-57 1-105h-67q-14 0-23-9t-9-23v-114q0-14 9-23t23-9h98q67-210 243.5-338t400.5-128q102 0 194 23 11 3 20 15 6 11 3 24l-43 159q-3 13-14 19.5t-24 2.5l-4-1q-4-1-11.5-2.5l-17.5-3.5-22.5-3.5-26-3-29-2.5-29.5-1q-126 0-226 64t-150 176h468q16 0 25 12 10 12 7 26l-24 114q-5 26-32 26h-488q-3 37 0 105h459q15 0 25 12 9 12 6 27l-24 112q-2 11-11 18.5t-20 7.5h-387q48 117 149.5 185.5t228.5 68.5q18 0 36-1.5t33.5-3.5 29.5-4.5 24.5-5 18.5-4.5l12-3 5-2q13-5 26 2 12 7 15 21z\"\n    };\n  },\n  watch: {\n      'me.currency': function() {\n        this.draw()\n      },\n      data: function(){\n        this.draw()\n      }\n  },\n  mounted() {\n    this.draw();\n  },\n  computed: {\n      ...mapState([\"me\"]),\n      iconPath: function(){\n          if(!this.me) return \"\";\n          switch(this.me.currency){\n            case(\"$\"):\n                return this.dollarPath;\n            case(\"£\"): \n                return this.poundPath;\n            case(\"€\"):\n                return this.euroPath;\n            default: \n                return this.dollarPath;\n            }\n      }\n  },\n  methods: {\n    draw() {\n      if(!this.data) return;\n      am4core.useTheme(am4themes_animated);\n      am4core.useTheme(am4themes_dark);\n      var iconPath = this.iconPath;\n      var chart = am4core.create(this.id, am4charts.SlicedChart);\n      chart.hiddenState.properties.opacity = 0; // this makes initial fade in effect\n\n      chart.data = [\n        {\n          name: \"Saved\",\n          value: this.data.saved\n        },\n        {\n          name: \"Spent\",\n          value: this.data.spent\n        }\n      ];\n\n      var series = chart.series.push(new am4charts.PictorialStackedSeries());\n      series.dataFields.value = \"value\";\n      series.dataFields.category = \"name\";\n      series.alignLabels = this.alignLabels;\n      series.currency = this.me.currency;\n\n      series.slices.template.cursorOverStyle = am4core.MouseCursorStyle.pointer;\n      series.slices.template.tooltipText = \"{category}: {value.percent.formatNumber('#.#')}% ({currency}{value.value})\";\n\n      let chartTitle = chart.titles.create();\n      chartTitle.text = this.title;\n\n      series.maskSprite.path = iconPath;\n      series.labels.template.disabled = !this.alignLabels;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pictoralbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pictoralbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pictoralbar.vue?vue&type=template&id=0cb3a165&scoped=true&\"\nimport script from \"./pictoralbar.vue?vue&type=script&lang=js&\"\nexport * from \"./pictoralbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pictoralbar.vue?vue&type=style&index=0&id=0cb3a165&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0cb3a165\",\n  null\n  \n)\n\nexport default component.exports","<style scoped>\n.border-btm {\n    border-bottom: 1px solid rgba(204, 204, 204, 0.933);\n}\n</style>\n\n<template>\n    <div>\n    <div class=\"mt-2 h-100\">\n      <div class=\"row\">\n        <div class=\"col-4\">\n          <b-nav align=\"left\">\n            <b-nav-item to=\"/\">\n              <i title=\"Dashboard\" class=\"fas fa-chart-bar\"></i>\n            </b-nav-item>\n            <b-nav-item to=\"/averages\">\n              <i title=\"Averages\" class=\"fas fa-thermometer-empty\"></i>\n            </b-nav-item>\n          </b-nav>\n        </div>\n        <div class=\"col-8\">\n          <b-nav align=\"right\">\n            <b-nav-item\n              active-class=\"year-active\"\n              v-for=\"(year, index) in sortedYears\"\n              :key=\"index\"\n              :active=\"year === selectedYear\"\n              v-on:click=\"selectedYear = year;\"\n            >{{ year }}</b-nav-item>\n          </b-nav>\n        </div>\n      </div>\n      <div class=\"h-100\">\n        <div class=\"row border-btm\" style=\"height:79%\">\n            <div class=\"col-md-6 offset-md-3 h-100\">\n                <div class=\"text-center h-100\">\n                    <pictorialbar :alignLabels=\"true\" :data=\"selectedYearsStats\"></pictorialbar>\n                </div>\n            </div>\n        </div>\n        <div class=\"row h-20\">\n            <div class=\"col\" v-for=\"month in monthlyStatsForYear\" :key=\"month.id\">\n                <pictorialbar :title=\"month.datemonth\" :alignLabels=\"false\" :data=\"{spent:month.spent, saved:month.saved}\"></pictorialbar>\n            </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\nimport pictorialbar from '../components/pictoralbar';\nimport statsX from '../services/stats';\nimport moment from 'moment';\n\nexport default {\n    name: 'Stats',\n    data() {\n        return {\n            selectedYear: '',\n            yearlyStats: [],\n            monthlyStatsForYear: []\n        }\n    },\n    components: { pictorialbar },\n    created: function() {\n        this.getYears();\n        this.getYearlyStats();\n    },\n    watch: {\n        selectableYears: function() {\n            if (this.selectableYears && this.selectableYears.length > 0) {\n                this.selectedYear = Math.max(this.selectableYears);\n            }\n        },\n        selectedYear: async function(){\n            try {\n                const result = await statsX.getMonthStatsForYear(this.selectedYear);\n                this.monthlyStatsForYear = result.data;\n                this.monthlyStatsForYear.forEach(x => {\n                    x.id = x.datemonth;\n                    x.datemonth = moment().month(x.datemonth - 1).format('MMMM');\n                });\n            } catch (error) {\n                console.log(error)\n            }\n        }\n    },\n    computed: {\n        ...mapState([\"years\", \"me\", \"selectableYears\"]),\n        sortedYears: function(){\n            return this.selectableYears.sort((a, b) => {return a - b});\n        },\n        selectedYearsStats: function(){\n            if(this.yearlyStats){\n                return this.yearlyStats.find(x => { return x.dateyear === this.selectedYear});\n            }\n            return {};\n        }\n    },\n    methods: {\n        ...mapActions([\"getYears\"]),\n        async getYearlyStats(){\n            try {\n                const response = await statsX.years();\n                this.yearlyStats = response.data;\n            } catch (error) {\n                console.log(error)\n            }\n        }\n    }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stats.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stats.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Stats.vue?vue&type=template&id=59292040&scoped=true&\"\nimport script from \"./Stats.vue?vue&type=script&lang=js&\"\nexport * from \"./Stats.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Stats.vue?vue&type=style&index=0&id=59292040&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59292040\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stats.vue?vue&type=style&index=0&id=59292040&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stats.vue?vue&type=style&index=0&id=59292040&scoped=true&lang=css&\""],"sourceRoot":""}