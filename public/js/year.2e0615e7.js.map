{"version":3,"sources":["webpack:///./src/components/treemap.vue?a9b5","webpack:///./src/views/YearGrouping.vue?871b","webpack:///./src/components/treemap.vue?106f","webpack:///src/components/treemap.vue","webpack:///./src/components/treemap.vue?d62b","webpack:///./src/components/treemap.vue","webpack:///src/views/YearGrouping.vue","webpack:///./src/views/YearGrouping.vue?3456","webpack:///./src/views/YearGrouping.vue","webpack:///./src/views/YearGrouping.vue?037a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","yearGroupedIncomes","yearGroupedExpenses","staticRenderFns","staticStyle","id","name","props","data","Array","title","String","mounted","draw","watch","computed","methods","chart","hiddenState","properties","opacity","colors","step","chartTitle","text","fill","fontSize","dataFields","value","children","currency","me","zoomable","level0SeriesTemplate","seriesTemplates","create","level0ColumnTemplate","columns","template","column","cornerRadius","fillOpacity","strokeWidth","stroke","strokeOpacity","level1SeriesTemplate","level1ColumnTemplate","tooltip","animationDuration","tooltipText","bullet1","bullets","push","locationY","locationX","label","maxLevels","component","result","forEach","incomes","map","expenses","error"],"mappings":"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","file":"js/year.2e0615e7.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./treemap.vue?vue&type=style&index=0&id=7a7d9b00&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./treemap.vue?vue&type=style&index=0&id=7a7d9b00&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"mt-2 h-100\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-4\"},[_c('b-nav',{attrs:{\"align\":\"left\"}},[_c('b-nav-item',{attrs:{\"to\":\"/\"}},[_c('i',{staticClass:\"fas fa-chart-bar\",attrs:{\"title\":\"Dashboard\"}})]),_c('b-nav-item',{attrs:{\"to\":\"/stats\"}},[_c('i',{staticClass:\"fa fa-percent\",attrs:{\"title\":\"Statistics\"}})]),_c('b-nav-item',{attrs:{\"to\":\"/averages\"}},[_c('i',{staticClass:\"fas fa-thermometer-empty\",attrs:{\"title\":\"Averages\"}})])],1)],1),_c('year-select')],1),_c('div',{staticClass:\"h-100\"},[_c('div',{staticClass:\"row h-100\"},[_c('div',{staticClass:\"col h-100\"},[_c('tree-map',{attrs:{\"data\":_vm.yearGroupedIncomes,\"title\":'Incomes'}})],1),_c('div',{staticClass:\"col h-100\"},[_c('tree-map',{attrs:{\"data\":_vm.yearGroupedExpenses,\"title\":'Expenses'}})],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"inherit\"}},[_c('div',{staticClass:\"treemap-chart\",attrs:{\"id\":_vm.id}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style scoped>\n.treemap-chart {\n  height: 100%;\n}\n</style>\n\n<template>\n  <div style=\"height:inherit\">\n    <div class=\"treemap-chart\" :id=\"id\"></div>\n  </div>\n</template>\n\n<script>\nimport * as am4core from \"@amcharts/amcharts4/core\";\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated.js\";\nimport am4themes_dark from \"@amcharts/amcharts4/themes/dark.js\";\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"treeMap\",\n  props: {\n    data: Array,\n    title: String\n  },\n  data() {\n    return {\n      id: `${this._uid}bar`\n    };\n  },\n  mounted() {\n    this.draw();\n  },\n  watch: {\n    \"me.currency\": function() {\n      this.draw();\n    },\n    data: function() {\n      this.draw();\n    }\n  },\n  computed: {\n    ...mapState([\"me\"])\n  },\n  methods: {\n    draw: function() {\n      am4core.useTheme(am4themes_animated);\n      am4core.useTheme(am4themes_dark);\n      var chart = am4core.create(this.id, am4charts.TreeMap);\n      chart.hiddenState.properties.opacity = 0; \n      chart.data = this.data;\n\n      chart.colors.step = 2;\n      let chartTitle = chart.titles.create();\n      chartTitle.text = this.title;\n      chartTitle.fill = \"white\"\n      chartTitle.fontSize = 20;\n\n      chart.dataFields.value = \"value\";\n      chart.dataFields.name = \"name\";\n      chart.dataFields.children = \"children\";\n      chart.currency = this.me.currency;\n\n      chart.zoomable = false;\n\n      var level0SeriesTemplate = chart.seriesTemplates.create(\"0\");\n      var level0ColumnTemplate = level0SeriesTemplate.columns.template;\n\n      level0ColumnTemplate.column.cornerRadius(10, 10, 10, 10);\n      level0ColumnTemplate.fillOpacity = 0;\n      level0ColumnTemplate.strokeWidth = 4;\n      level0ColumnTemplate.stroke = \"#153057\";\n      level0ColumnTemplate.strokeOpacity = 0;\n\n      var level1SeriesTemplate = chart.seriesTemplates.create(\"1\");\n      var level1ColumnTemplate = level1SeriesTemplate.columns.template;\n\n      level1SeriesTemplate.tooltip.animationDuration = 0;\n      level1SeriesTemplate.strokeOpacity = 1;\n\n      level1ColumnTemplate.column.cornerRadius(10, 10, 10, 10);\n      level1ColumnTemplate.fillOpacity = 0.9;\n      level1ColumnTemplate.strokeWidth = 4;\n      level1ColumnTemplate.stroke = \"#153057\";\n      level1ColumnTemplate.tooltipText = \"{name}: {currency}[bold]{value}[/]\";\n\n      var bullet1 = level1SeriesTemplate.bullets.push(\n        new am4charts.LabelBullet()\n      );\n      bullet1.locationY = 0.5;\n      bullet1.locationX = 0.5;\n      bullet1.label.text = \"{name}\";\n      bullet1.label.fill = am4core.color(\"#ffffff\");\n\n      chart.maxLevels = 2;\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./treemap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./treemap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./treemap.vue?vue&type=template&id=7a7d9b00&scoped=true&\"\nimport script from \"./treemap.vue?vue&type=script&lang=js&\"\nexport * from \"./treemap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./treemap.vue?vue&type=style&index=0&id=7a7d9b00&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a7d9b00\",\n  null\n  \n)\n\nexport default component.exports","<style scoped>\n.border-btm {\n    border-bottom: 1px solid rgba(204, 204, 204, 0.933);\n}\n</style>\n\n<template>\n    <div>\n    <div class=\"mt-2 h-100\">\n      <div class=\"row\">\n        <div class=\"col-4\">\n          <b-nav align=\"left\">\n            <b-nav-item to=\"/\">\n              <i title=\"Dashboard\" class=\"fas fa-chart-bar\"></i>\n            </b-nav-item>\n            <b-nav-item to=\"/stats\">\n              <i title=\"Statistics\" class=\"fa fa-percent\"></i>\n            </b-nav-item>\n            <b-nav-item to=\"/averages\">\n              <i title=\"Averages\" class=\"fas fa-thermometer-empty\"></i>\n            </b-nav-item>\n          </b-nav>\n        </div>\n        <year-select></year-select>\n      </div>\n      <div class=\"h-100\">\n            <div class=\"row h-100\">\n            <div class=\"col h-100\">\n                <tree-map :data=\"yearGroupedIncomes\" :title=\"'Incomes'\"></tree-map>\n            </div>\n            <div class=\"col h-100\">\n                <tree-map :data=\"yearGroupedExpenses\" :title=\"'Expenses'\"></tree-map>\n            </div>\n            </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\nimport YearSelect from '../components/yearselect';\nimport Total from '../services/totals';\nimport TreeMap from '../components/treemap'\n\nexport default {\n    name: 'YearGrouping',\n    data() {\n        return {\n            yearGroupedIncomes: [],\n            yearGroupedExpenses: [],\n            error: null\n        }\n    },\n    components: { YearSelect, TreeMap },\n    created: function() {\n        this.getYears();\n    },\n    watch: {\n        selectedYear: async function(){\n            this.$router.push({name: 'year', hash: `/#${this.selectedYear}`});\n            try {\n                const result = await Total.getYearGroupedTotals(this.selectedYear);\n                let incomes = []\n                let expenses = []\n                result.data.forEach(x => {\n                    if(x.amount > 0 ) incomes.push(x)\n                    if(x.amount < 0 ) expenses.push(x)\n                });\n                this.yearGroupedIncomes = incomes.map(x => {\n                    return {\n                        name: x.description,\n                        children: [\n                            {\n                                \"name\": x.description,\n                                \"value\": x.amount\n                            }\n                        ]\n                    }\n                });\n                this.yearGroupedExpenses = expenses.map(x => {\n                    return {\n                        name: x.description,\n                        children: [\n                            {\n                                \"name\": x.description,\n                                \"value\": Math.abs(x.amount)\n                            }\n                        ]\n                    }\n                });\n            } catch (error) {\n                this.error = error;\n            }\n        }\n    },\n    computed: {\n        ...mapState([\"years\", \"me\", \"selectedYear\"])\n    },\n    methods: {\n        ...mapActions([\"getYears\"])\n    }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YearGrouping.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YearGrouping.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./YearGrouping.vue?vue&type=template&id=b6518610&scoped=true&\"\nimport script from \"./YearGrouping.vue?vue&type=script&lang=js&\"\nexport * from \"./YearGrouping.vue?vue&type=script&lang=js&\"\nimport style0 from \"./YearGrouping.vue?vue&type=style&index=0&id=b6518610&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b6518610\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YearGrouping.vue?vue&type=style&index=0&id=b6518610&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YearGrouping.vue?vue&type=style&index=0&id=b6518610&scoped=true&lang=css&\""],"sourceRoot":""}